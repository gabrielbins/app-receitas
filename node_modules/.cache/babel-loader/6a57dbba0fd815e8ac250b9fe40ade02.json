{"ast":null,"code":"var _jsxFileName = \"/home/gabrielbins/Documentos/repositorio github/app-receitas/src/pages/FoodRecipe.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport fetchFoodRecipe from '../services/fetchFoodRecipe';\nimport getIngredientesMeasure from '../helpers/getFoodIngrMeasure';\nimport { URL_EMBED, FIRS_SIX } from '../helpers/constants';\nimport { isFavorite, handleFavoriteMeal } from '../helpers/setFavorite';\nimport AppContext from '../context/context';\nimport SugestCard from '../components/SugestCard';\nimport '../styles/recipe.css';\nimport verifyRecipe from '../helpers/verifyRecipe';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst copy = require('clipboard-copy');\n\nexport default function FoodRecipe() {\n  _s();\n\n  const {\n    drinkData\n  } = useContext(AppContext);\n  const [recipe, setRecipe] = useState({});\n  const [verify, setVerify] = useState('new');\n  const [ingrMeasure, setIngrMeasure] = useState({});\n  const [copyMessage, setCopyMessage] = useState('');\n  const [favorite, setFavorite] = useState(false);\n  const history = useHistory();\n  const {\n    location: {\n      pathname\n    }\n  } = history;\n\n  const getData = async id => {\n    const data = await fetchFoodRecipe(id);\n    setRecipe(data);\n    getIngredientesMeasure(data, setIngrMeasure);\n  };\n\n  useEffect(() => {\n    const id = pathname.split('/')[2];\n    getData(id);\n    verifyRecipe(id, setVerify, 'meals');\n    isFavorite(id, setFavorite);\n  }, [pathname]);\n\n  const startCooking = () => {\n    history.push(`/foods/${pathname.split('/')[2]}/in-progress`);\n  };\n\n  const share = () => {\n    copy(`http://localhost:3000${pathname}`);\n    setCopyMessage('Link copied!');\n  };\n\n  if (Object.keys(recipe).length > 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": \"recipe-photo\",\n        alt: \"food\",\n        src: recipe.strMealThumb\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        \"data-testid\": \"recipe-title\",\n        children: recipe.strMeal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), copyMessage.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: copyMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: share,\n        \"data-testid\": \"share-btn\",\n        type: \"button\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: shareIcon,\n          alt: \"share icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          handleFavoriteMeal(favorite, setFavorite, recipe);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": \"favorite-btn\",\n          src: favorite ? blackHeartIcon : whiteHeartIcon,\n          alt: \"favorite icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"recipe-category\",\n        children: recipe.strCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: Object.keys(ingrMeasure).length > 0 && ingrMeasure.filterIngridients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          \"data-testid\": `${index}-ingredient-name-and-measure`,\n          children: `${ingredient} - ${ingrMeasure.filterMeasures[index]}`\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"instructions\",\n        children: recipe.strInstructions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n        \"data-testid\": \"video\",\n        title: \"food\",\n        src: `${recipe.strYoutube.substring(0, URL_EMBED)}embed/${recipe.strYoutube.substring(URL_EMBED, recipe.strYoutube.length)}`,\n        \"allow-same-origin\": true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Recomenda\\xE7\\xF5es:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"carousel\",\n        children: drinkData.length > 0 && drinkData.slice(0, FIRS_SIX).map((sugestion, index) => /*#__PURE__*/_jsxDEV(SugestCard, {\n          data: { ...sugestion,\n            index,\n            type: 'drink'\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), verify === 'new' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"fixed-bottom border\",\n        \"data-testid\": \"start-recipe-btn\",\n        type: \"button\",\n        onClick: startCooking,\n        children: \"Start Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), verify === 'started' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"fixed-bottom border\",\n        \"data-testid\": \"start-recipe-btn\",\n        type: \"button\",\n        children: \"Continue Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 11\n  }, this);\n}\n\n_s(FoodRecipe, \"/McBIU0yXpucw08cpXK/iDoMHno=\", false, function () {\n  return [useHistory];\n});\n\n_c = FoodRecipe;\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodRecipe\");","map":{"version":3,"sources":["/home/gabrielbins/Documentos/repositorio github/app-receitas/src/pages/FoodRecipe.jsx"],"names":["React","useState","useEffect","useContext","useHistory","fetchFoodRecipe","getIngredientesMeasure","URL_EMBED","FIRS_SIX","isFavorite","handleFavoriteMeal","AppContext","SugestCard","verifyRecipe","shareIcon","whiteHeartIcon","blackHeartIcon","copy","require","FoodRecipe","drinkData","recipe","setRecipe","verify","setVerify","ingrMeasure","setIngrMeasure","copyMessage","setCopyMessage","favorite","setFavorite","history","location","pathname","getData","id","data","split","startCooking","push","share","Object","keys","length","strMealThumb","strMeal","strCategory","filterIngridients","map","ingredient","index","filterMeasures","strInstructions","strYoutube","substring","slice","sugestion","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport fetchFoodRecipe from '../services/fetchFoodRecipe';\nimport getIngredientesMeasure from '../helpers/getFoodIngrMeasure';\nimport { URL_EMBED, FIRS_SIX } from '../helpers/constants';\nimport { isFavorite, handleFavoriteMeal } from '../helpers/setFavorite';\nimport AppContext from '../context/context';\nimport SugestCard from '../components/SugestCard';\nimport '../styles/recipe.css';\nimport verifyRecipe from '../helpers/verifyRecipe';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\n\nconst copy = require('clipboard-copy');\n\nexport default function FoodRecipe() {\n  const { drinkData } = useContext(AppContext);\n  const [recipe, setRecipe] = useState({});\n  const [verify, setVerify] = useState('new');\n  const [ingrMeasure, setIngrMeasure] = useState({});\n  const [copyMessage, setCopyMessage] = useState('');\n  const [favorite, setFavorite] = useState(false);\n  const history = useHistory();\n  const { location: { pathname } } = history;\n\n  const getData = async (id) => {\n    const data = await fetchFoodRecipe(id);\n    setRecipe(data);\n    getIngredientesMeasure(data, setIngrMeasure);\n  };\n\n  useEffect(() => {\n    const id = pathname.split('/')[2];\n    getData(id);\n    verifyRecipe(id, setVerify, 'meals');\n    isFavorite(id, setFavorite);\n  }, [pathname]);\n\n  const startCooking = () => {\n    history.push(`/foods/${pathname.split('/')[2]}/in-progress`);\n  };\n\n  const share = () => {\n    copy(`http://localhost:3000${pathname}`);\n    setCopyMessage('Link copied!');\n  };\n\n  if (Object.keys(recipe).length > 0) {\n    return (\n      <div>\n        <img data-testid=\"recipe-photo\" alt=\"food\" src={ recipe.strMealThumb } />\n        <h1 data-testid=\"recipe-title\">{recipe.strMeal}</h1>\n        {copyMessage.length > 0 && (\n          <p>{copyMessage}</p>\n        )}\n        <button\n          onClick={ share }\n          data-testid=\"share-btn\"\n          type=\"button\"\n        >\n          <img src={ shareIcon } alt=\"share icon\" />\n        </button>\n        <button\n          type=\"button\"\n          onClick={ () => { handleFavoriteMeal(favorite, setFavorite, recipe); } }\n        >\n          <img\n            data-testid=\"favorite-btn\"\n            src={ favorite ? blackHeartIcon : whiteHeartIcon }\n            alt=\"favorite icon\"\n          />\n        </button>\n        <p data-testid=\"recipe-category\">\n          {recipe.strCategory}\n        </p>\n        <ul>\n          { Object.keys(ingrMeasure).length > 0\n          && ingrMeasure.filterIngridients.map((ingredient, index) => (\n            <li\n              key={ index }\n              data-testid={ `${index}-ingredient-name-and-measure` }\n            >\n              {`${ingredient} - ${ingrMeasure.filterMeasures[index]}`}\n            </li>\n          ))}\n        </ul>\n        <p data-testid=\"instructions\">\n          {recipe.strInstructions}\n        </p>\n        <iframe\n          data-testid=\"video\"\n          title=\"food\"\n          src={ `${recipe.strYoutube.substring(0, URL_EMBED)}embed/${recipe.strYoutube\n            .substring(URL_EMBED, recipe.strYoutube.length)}` }\n          allow-same-origin\n        />\n        <h2>Recomendações:</h2>\n        <div className=\"carousel\">\n          {\n            drinkData.length > 0\n            && (drinkData.slice(0, FIRS_SIX).map((sugestion, index) => (\n              <SugestCard key={ index } data={ { ...sugestion, index, type: 'drink' } } />\n            )))\n          }\n        </div>\n        { verify === 'new' && (\n          <button\n            className=\"fixed-bottom border\"\n            data-testid=\"start-recipe-btn\"\n            type=\"button\"\n            onClick={ startCooking }\n          >\n            Start Recipe\n          </button>\n        )}\n        { verify === 'started' && (\n          <button\n            className=\"fixed-bottom border\"\n            data-testid=\"start-recipe-btn\"\n            type=\"button\"\n          >\n            Continue Recipe\n          </button>\n        )}\n      </div>\n    );\n  }\n  return (<div>loading...</div>);\n}\n"]},"metadata":{},"sourceType":"module"}